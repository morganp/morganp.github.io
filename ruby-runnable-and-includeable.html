<!DOCTYPE html>
<html lang="en">
        <head>
                        <meta charset="utf-8" />
                        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                        <meta name="generator" content="Pelican" />
                        <title>"Ruby runnable and includeable"</title>
                        <link rel="stylesheet" href="./theme/css/main.css" />
                                <link href="http://lizard-spock.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lizard-Spock Atom Feed" />
    <meta name="description" content="I might have just made up includable, but I like it. Some times you have written a ruby script (using â€¦" />
        </head>

        <body id="index" class="home">
                <header id="banner" class="body">
                        <h1><a href="./">Lizard-Spock</a></h1>
                        <nav><ul>
                                                <li><a href="./category/cooking.html">Cooking</a></li>
                                                <li><a href="./category/engineering.html">Engineering</a></li>
                                                <li><a href="./category/home.html">Home</a></li>
                                                <li><a href="./category/outdoor.html">Outdoor</a></li>
                                                <li><a href="./category/photography.html">Photography</a></li>
                                                <li class="active"><a href="./category/tech.html">Tech</a></li>
                        </ul></nav>
                </header><!-- /#banner -->
  <section id="content" class="body">
    <article>
      <header>
        <h1 class="entry-title">
          <a href=".///38/Ruby_runnable_and_includeable" rel="bookmark"
             title="Permalink to "Ruby runnable and includeable"">"Ruby runnable and includeable"</a></h1>
      </header>

      <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2010-06-11T13:24:06+01:00">
                Published: Fri 11 June 2010
        </abbr>

                <address class="vcard author">
                        By                                 <a class="url fn" href="./author/morganp.html">morganp</a>
                </address>
        <p>In <a href="./category/tech.html">Tech</a>.</p>
<p>tags: <a href="./tag/programming.html">Programming</a> <a href="./tag/ruby.html">Ruby</a> </p>        
</footer><!-- /.post-info -->        <p>I might have just made up includable, but I like it.</p>
<p>Some times you have written a ruby script (using classes) which does something awesome and it might be nice if other future scripts function could make use of this object class you have just created, while keeping the script in a runnable stand alone state.</p>
<p>This is quite trivial once you realise that $0 is the file that was called on the command line and __FILE__ is the current file.</p>
<p>Available as a <a href="http://gist.github.com/435161">gist</a>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="ch">#!/usr/bin/env ruby</span>

<span class="k">class</span><span class="w"> </span><span class="nc">HelloWorld</span>
<span class="w">   </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span>
<span class="w">      </span><span class="vi">@msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;HelloWorld!&quot;</span>
<span class="w">   </span><span class="k">end</span>

<span class="w">   </span><span class="k">def</span><span class="w"> </span><span class="nf">to_s</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="vi">@msg</span>
<span class="w">   </span><span class="k">end</span>
<span class="k">end</span>

<span class="c1">#Only execute if called directly</span>
<span class="c1">#ie other file can require/include and this part will not be executed</span>
<span class="c1"># $0 calling file (eneterd at command line)</span>
<span class="c1"># __FILE__ This file</span>

<span class="k">if</span><span class="w"> </span><span class="vg">$0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="bp">__FILE__</span>
<span class="w">   </span><span class="n">hi_world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">HelloWorld</span><span class="o">.</span><span class="n">new</span>
<span class="w">   </span><span class="nb">puts</span><span class="w"> </span><span class="n">hi_world</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
      </div><!-- /.entry-content -->

    </article>
  </section>
                <section id="extras" class="body">
                                <div class="social">
                                        <h2>social</h2>
                                        <ul>
                                                        <li><a href="http://lizard-spock.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                                        </ul>
                                </div><!-- /.social -->
                </section><!-- /#extras -->

                <footer id="contentinfo" class="body">
                        <address id="about" class="vcard body">
                                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                        </address><!-- /#about -->

                        <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
                </footer><!-- /#contentinfo -->

        </body>
</html>