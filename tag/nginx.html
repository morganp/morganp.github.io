<!DOCTYPE html>
<html lang="en">
        <head>
                        <meta charset="utf-8" />
                        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                        <meta name="generator" content="Pelican" />
                        <title>Lizard-Spock - nginx</title>
                        <link rel="stylesheet" href="../theme/css/main.css" />
                                <link href="http://lizard-spock.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lizard-Spock Atom Feed" />
        </head>

        <body id="index" class="home">
                <header id="banner" class="body">
                        <h1><a href="../">Lizard-Spock</a></h1>
                        <nav><ul>
                                                <li><a href="../pages/about.html">About</a></li>
                                                <li><a href="../category/cooking.html">Cooking</a></li>
                                                <li><a href="../category/engineering.html">Engineering</a></li>
                                                <li><a href="../category/home.html">Home</a></li>
                                                <li><a href="../category/outdoor.html">Outdoor</a></li>
                                                <li><a href="../category/photography.html">Photography</a></li>
                                                <li><a href="../category/tech.html">Tech</a></li>
                        </ul></nav>
                </header><!-- /#banner -->

                <aside id="featured" class="body">
                    <article>
                        <h1 class="entry-title"><a href="..///57/Benchmark_your_website_for_load_times.">"Benchmark your website for load times."</a></h1>
<footer class="post-info">
        <abbr class="published" title="2010-07-27T16:09:53+01:00">
                Published: Tue 27 July 2010
        </abbr>

                <address class="vcard author">
                        By                                 <a class="url fn" href="../author/morganp.html">morganp</a>
                </address>
        <p>In <a href="../category/tech.html">Tech</a>.</p>
<p>tags: <a href="../tag/command-line.html">Command Line</a> <a href="../tag/linux.html">Linux</a> <a href="../tag/memory.html">Memory</a> <a href="../tag/nginx.html">nginx</a> <a href="../tag/os-x.html">OS X</a> <a href="../tag/performance.html">Performance</a> <a href="../tag/programming.html">Programming</a> <a href="../tag/sinatra.html">Sinatra</a> <a href="../tag/webfaction.html">WebFaction</a> <a href="../tag/web.html">Web</a> </p>        
</footer><!-- /.post-info --><p>I have been wondering how to do this for a while and accidentally discovered it while perusing <a href="http://docs.heroku.com/performance">this heroku page</a>. ab is the ApacheBench marking tool, it lets you set how many requests (for better averaging) and how many concurrent requests (for load testing) to send to your website. ab id installed by default on most unix/linux/mac os x.</p>
<p>50 requests 2 at atime</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ab<span class="w"> </span>-c<span class="w"> </span><span class="m">2</span><span class="w"> </span>-n<span class="w"> </span><span class="m">50</span><span class="w"> </span>http://amaras-tech.co.uk/
</code></pre></div>

<p>Outputs:</p>
<div class="highlight"><pre><span></span><code><span class="n">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">ApacheBench</span><span class="p">,</span><span class="w"> </span><span class="n">Version</span><span class="w"> </span><span class="mf">2.3</span><span class="w"> </span><span class="o">&lt;</span><span class="err">$</span><span class="nl">Revision</span><span class="p">:</span><span class="w"> </span><span class="mi">655654</span><span class="w"> </span><span class="err">$</span><span class="o">&gt;</span>
<span class="n">Copyright</span><span class="w"> </span><span class="mi">1996</span><span class="w"> </span><span class="n">Adam</span><span class="w"> </span><span class="n">Twiss</span><span class="p">,</span><span class="w"> </span><span class="n">Zeus</span><span class="w"> </span><span class="n">Technology</span><span class="w"> </span><span class="n">Ltd</span><span class="p">,</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="p">.</span><span class="n">zeustech</span><span class="p">.</span><span class="n">net</span><span class="o">/</span>
<span class="n">Licensed</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">Apache</span><span class="w"> </span><span class="n">Software</span><span class="w"> </span><span class="n">Foundation</span><span class="p">,</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">org</span><span class="o">/</span>

<span class="n">Benchmarking</span><span class="w"> </span><span class="n">amaras</span><span class="o">-</span><span class="n">tech</span><span class="p">.</span><span class="n">co</span><span class="p">.</span><span class="n">uk</span><span class="w"> </span><span class="p">(</span><span class="n">be</span><span class="w"> </span><span class="n">patient</span><span class="p">).....</span><span class="n">done</span>


<span class="n">Server</span><span class="w"> </span><span class="nl">Software</span><span class="p">:</span><span class="w">        </span><span class="n">nginx</span>
<span class="n">Server</span><span class="w"> </span><span class="nl">Hostname</span><span class="p">:</span><span class="w">        </span><span class="n">amaras</span><span class="o">-</span><span class="n">tech</span><span class="p">.</span><span class="n">co</span><span class="p">.</span><span class="n">uk</span>
<span class="n">Server</span><span class="w"> </span><span class="nl">Port</span><span class="p">:</span><span class="w">            </span><span class="mi">80</span>

<span class="n">Document</span><span class="w"> </span><span class="k">Path</span><span class="err">:</span><span class="w">          </span><span class="o">/</span>
<span class="n">Document</span><span class="w"> </span><span class="nl">Length</span><span class="p">:</span><span class="w">        </span><span class="mi">0</span><span class="w"> </span><span class="n">bytes</span>

<span class="n">Concurrency</span><span class="w"> </span><span class="k">Level</span><span class="err">:</span><span class="w">      </span><span class="mi">2</span>
<span class="nc">Time</span><span class="w"> </span><span class="n">taken</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nl">tests</span><span class="p">:</span><span class="w">   </span><span class="mf">9.951</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">Complete</span><span class="w"> </span><span class="nl">requests</span><span class="p">:</span><span class="w">      </span><span class="mi">50</span>
<span class="n">Failed</span><span class="w"> </span><span class="nl">requests</span><span class="p">:</span><span class="w">        </span><span class="mi">0</span>
<span class="k">Write</span><span class="w"> </span><span class="nl">errors</span><span class="p">:</span><span class="w">           </span><span class="mi">0</span>
<span class="n">Non</span><span class="o">-</span><span class="mi">2</span><span class="n">xx</span><span class="w"> </span><span class="nl">responses</span><span class="p">:</span><span class="w">      </span><span class="mi">50</span>
<span class="n">Total</span><span class="w"> </span><span class="nl">transferred</span><span class="p">:</span><span class="w">      </span><span class="mi">11400</span><span class="w"> </span><span class="n">bytes</span>
<span class="n">HTML</span><span class="w"> </span><span class="nl">transferred</span><span class="p">:</span><span class="w">       </span><span class="mi">0</span><span class="w"> </span><span class="n">bytes</span>
<span class="n">Requests</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="k">second</span><span class="err">:</span><span class="w">    </span><span class="mf">5.02</span><span class="w"> </span><span class="o">[</span><span class="n">#/sec</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="n">mean</span><span class="p">)</span>
<span class="nc">Time</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="nl">request</span><span class="p">:</span><span class="w">       </span><span class="mf">398.030</span><span class="w"> </span><span class="o">[</span><span class="n">ms</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="n">mean</span><span class="p">)</span>
<span class="nc">Time</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="nl">request</span><span class="p">:</span><span class="w">       </span><span class="mf">199.015</span><span class="w"> </span><span class="o">[</span><span class="n">ms</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="n">mean</span><span class="p">,</span><span class="w"> </span><span class="n">across</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="n">concurrent</span><span class="w"> </span><span class="n">requests</span><span class="p">)</span>
<span class="n">Transfer</span><span class="w"> </span><span class="nl">rate</span><span class="p">:</span><span class="w">          </span><span class="mf">1.12</span><span class="w"> </span><span class="o">[</span><span class="n">Kbytes/sec</span><span class="o">]</span><span class="w"> </span><span class="n">received</span>

<span class="k">Connection</span><span class="w"> </span><span class="n">Times</span><span class="w"> </span><span class="p">(</span><span class="n">ms</span><span class="p">)</span>
<span class="w">              </span><span class="nf">min</span><span class="w">  </span><span class="n">mean</span><span class="o">[</span><span class="n">+/-sd</span><span class="o">]</span><span class="w"> </span><span class="n">median</span><span class="w">   </span><span class="nf">max</span>
<span class="k">Connect</span><span class="err">:</span><span class="w">      </span><span class="mi">146</span><span class="w">  </span><span class="mi">162</span><span class="w">  </span><span class="mf">16.7</span><span class="w">    </span><span class="mi">158</span><span class="w">     </span><span class="mi">214</span>
<span class="nl">Processing</span><span class="p">:</span><span class="w">   </span><span class="mi">149</span><span class="w">  </span><span class="mi">229</span><span class="w"> </span><span class="mf">198.3</span><span class="w">    </span><span class="mi">159</span><span class="w">    </span><span class="mi">1113</span>
<span class="nl">Waiting</span><span class="p">:</span><span class="w">      </span><span class="mi">148</span><span class="w">  </span><span class="mi">228</span><span class="w"> </span><span class="mf">198.2</span><span class="w">    </span><span class="mi">159</span><span class="w">    </span><span class="mi">1112</span>
<span class="nl">Total</span><span class="p">:</span><span class="w">        </span><span class="mi">298</span><span class="w">  </span><span class="mi">392</span><span class="w"> </span><span class="mf">198.0</span><span class="w">    </span><span class="mi">328</span><span class="w">    </span><span class="mi">1262</span>

<span class="n">Percentage</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">served</span><span class="w"> </span><span class="k">within</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">certain</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="p">(</span><span class="n">ms</span><span class="p">)</span>
<span class="w">  </span><span class="mi">50</span><span class="o">%</span><span class="w">    </span><span class="mi">328</span>
<span class="w">  </span><span class="mi">66</span><span class="o">%</span><span class="w">    </span><span class="mi">343</span>
<span class="w">  </span><span class="mi">75</span><span class="o">%</span><span class="w">    </span><span class="mi">351</span>
<span class="w">  </span><span class="mi">80</span><span class="o">%</span><span class="w">    </span><span class="mi">360</span>
<span class="w">  </span><span class="mi">90</span><span class="o">%</span><span class="w">    </span><span class="mi">612</span>
<span class="w">  </span><span class="mi">95</span><span class="o">%</span><span class="w">    </span><span class="mi">961</span>
<span class="w">  </span><span class="mi">98</span><span class="o">%</span><span class="w">   </span><span class="mi">1262</span>
<span class="w">  </span><span class="mi">99</span><span class="o">%</span><span class="w">   </span><span class="mi">1262</span>
<span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w">   </span><span class="mi">1262</span><span class="w"> </span><span class="p">(</span><span class="n">longest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span>
</code></pre></div>                    </article>
                </aside><!-- /#featured -->
                    <section id="content" class="body">
                        <h1>Other articles</h1>
                        <hr />
                        <ol id="posts-list" class="hfeed">

                <li><article class="hentry">
                    <header>
                        <h1><a href="..///47/WebFaction_problems_restarting_nginx" rel="bookmark"
                               title="Permalink to "WebFaction problems restarting nginx"">"WebFaction problems restarting nginx"</a></h1>
                    </header>

                    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2010-06-27T09:39:48+01:00">
                Published: Sun 27 June 2010
        </abbr>

                <address class="vcard author">
                        By                                 <a class="url fn" href="../author/morganp.html">morganp</a>
                </address>
        <p>In <a href="../category/tech.html">Tech</a>.</p>
<p>tags: <a href="../tag/nginx.html">nginx</a> <a href="../tag/sinatra.html">Sinatra</a> <a href="../tag/web.html">Web</a> <a href="../tag/webfaction.html">WebFaction</a> </p>        
</footer><!-- /.post-info -->                        <p>After updating my website on <a href="http://www.webfaction.com/?affiliate=morgy">webfaction</a> nginx kept saying permission denied and when I tried to view my site I …</p>
                        <a class="readmore" href="..///47/WebFaction_problems_restarting_nginx">read more</a>
                    </div><!-- /.entry-content -->
                </article></li>

                <li><article class="hentry">
                    <header>
                        <h1><a href="..///32/Mac_OS_X_run_nginx_as_a_user_process" rel="bookmark"
                               title="Permalink to "Mac OS X run nginx as a user process"">"Mac OS X run nginx as a user process"</a></h1>
                    </header>

                    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2010-05-11T12:51:49+01:00">
                Published: Tue 11 May 2010
        </abbr>

                <address class="vcard author">
                        By                                 <a class="url fn" href="../author/morganp.html">morganp</a>
                </address>
        <p>In <a href="../category/tech.html">Tech</a>.</p>
<p>tags: <a href="../tag/nginx.html">nginx</a> <a href="../tag/web.html">Web</a> </p>        
</footer><!-- /.post-info -->                        <p>I do not like having to use sudo to run development servers for testing web applications. sudo should be reserved …</p>
                        <a class="readmore" href="..///32/Mac_OS_X_run_nginx_as_a_user_process">read more</a>
                    </div><!-- /.entry-content -->
                </article></li>

                <li><article class="hentry">
                    <header>
                        <h1><a href="..///30/Nginx_Enable_Directory_Listing" rel="bookmark"
                               title="Permalink to "Nginx Enable Directory Listing"">"Nginx Enable Directory Listing"</a></h1>
                    </header>

                    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2010-05-10T14:07:23+01:00">
                Published: Mon 10 May 2010
        </abbr>

                <address class="vcard author">
                        By                                 <a class="url fn" href="../author/morganp.html">morganp</a>
                </address>
        <p>In <a href="../category/tech.html">Tech</a>.</p>
<p>tags: <a href="../tag/web.html">Web</a> <a href="../tag/nginx.html">nginx</a> </p>        
</footer><!-- /.post-info -->                        <p>Directory listing can be enabled (disabled by default) by adding this:</p>
<div class="highlight"><pre><span></span><code>autoindex on;
</code></pre></div>

<p>Example usage</p>
<div class="highlight"><pre><span></span><code>http{
   server {
     #Server with no …</code></pre></div>
                        <a class="readmore" href="..///30/Nginx_Enable_Directory_Listing">read more</a>
                    </div><!-- /.entry-content -->
                </article></li>

                <li><article class="hentry">
                    <header>
                        <h1><a href="..///28/How_to_test_subdomains_on_a_development_machine" rel="bookmark"
                               title="Permalink to "How to test subdomains on a development machine"">"How to test subdomains on a development machine"</a></h1>
                    </header>

                    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2010-05-08T05:04:51+01:00">
                Published: Sat 08 May 2010
        </abbr>

                <address class="vcard author">
                        By                                 <a class="url fn" href="../author/morganp.html">morganp</a>
                </address>
        <p>In <a href="../category/tech.html">Tech</a>.</p>
<p>tags: <a href="../tag/web.html">Web</a> <a href="../tag/nginx.html">nginx</a> </p>        
</footer><!-- /.post-info -->                        <p>I recently documented how I <a href="http://amaras-tech.co.uk/people/morgan/article/26">installed Ruby Enterprise and nginx on Mac OS X</a>. Here we see how to make …</p>
                        <a class="readmore" href="..///28/How_to_test_subdomains_on_a_development_machine">read more</a>
                    </div><!-- /.entry-content -->
                </article></li>

                <li><article class="hentry">
                    <header>
                        <h1><a href="..///27/413_Request_Entity_Too_Large" rel="bookmark"
                               title="Permalink to "413 Request Entity Too Large"">"413 Request Entity Too Large"</a></h1>
                    </header>

                    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2010-05-08T03:22:08+01:00">
                Published: Sat 08 May 2010
        </abbr>

                <address class="vcard author">
                        By                                 <a class="url fn" href="../author/morganp.html">morganp</a>
                </address>
        <p>In <a href="../category/tech.html">Tech</a>.</p>
<p>tags: <a href="../tag/web.html">Web</a> <a href="../tag/nginx.html">nginx</a> </p>        
</footer><!-- /.post-info -->                        <p>The '413 Request Entity Too Large' Error message is because you have filled in a form and are submitting it …</p>
                        <a class="readmore" href="..///27/413_Request_Entity_Too_Large">read more</a>
                    </div><!-- /.entry-content -->
                </article></li>
                    </ol><!-- /#posts-list -->
                    </section><!-- /#content -->
                <section id="extras" class="body">
                                <div class="social">
                                        <h2>social</h2>
                                        <ul>
                                                        <li><a href="http://lizard-spock.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                                        </ul>
                                </div><!-- /.social -->
                </section><!-- /#extras -->

                <footer id="contentinfo" class="body">
                        <address id="about" class="vcard body">
                                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                        </address><!-- /#about -->

                        <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
                </footer><!-- /#contentinfo -->

        </body>
</html>