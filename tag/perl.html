<!DOCTYPE html>
<html lang="en">
        <head>
                        <meta charset="utf-8" />
                        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                        <meta name="generator" content="Pelican" />
                        <title>Lizard-Spock - Perl</title>
                        <link rel="stylesheet" href="../theme/css/main.css" />
                                <link href="http://lizard-spock.co.uk/pelican_test/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lizard-Spock Atom Feed" />
        </head>

        <body id="index" class="home">
                <header id="banner" class="body">
                        <h1><a href="../">Lizard-Spock</a></h1>
                        <nav><ul>
                                                <li><a href="../category/cooking.html">Cooking</a></li>
                                                <li><a href="../category/engineering.html">Engineering</a></li>
                                                <li><a href="../category/home.html">Home</a></li>
                                                <li><a href="../category/outdoor.html">Outdoor</a></li>
                                                <li><a href="../category/photography.html">Photography</a></li>
                                                <li><a href="../category/tech.html">Tech</a></li>
                        </ul></nav>
                </header><!-- /#banner -->

                <aside id="featured" class="body">
                    <article>
                        <h1 class="entry-title"><a href="..///98/Schwartzian_Transform">"Schwartzian Transform"</a></h1>
<footer class="post-info">
        <abbr class="published" title="2011-04-08T10:37:44+01:00">
                Published: Fri 08 April 2011
        </abbr>

                <address class="vcard author">
                        By                                 <a class="url fn" href="../author/morganp.html">morganp</a>
                </address>
        <p>In <a href="../category/tech.html">Tech</a>.</p>
<p>tags: <a href="../tag/memory.html">Memory</a> <a href="../tag/performance.html">Performance</a> <a href="../tag/programming.html">Programming</a> <a href="../tag/ruby.html">Ruby</a> <a href="../tag/perl.html">Perl</a> </p>        
</footer><!-- /.post-info --><p>I recently heard about the Schwartzian transform, which is a sorting idiom from perl. It allows an array of objects to be efficiently sorted by any property. Part of the cleverness is the use of anonymous arrays which allows them to be garbage collected quickly. </p>
<p><a href="http://en.wikipedia.org/wiki/Schwartzian_transform">Wikipedia</a> has a detailed description, however the general form (in perl) is:</p>
<div class="highlight"><pre><span></span><code><span class="nv">@sorted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">map</span><span class="w">  </span><span class="err">{</span><span class="w"> </span><span class="err">$</span><span class="n">_</span><span class="o">-&gt;[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="err">}</span>
<span class="w">          </span><span class="n">sort</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="err">$</span><span class="n">a</span><span class="o">-&gt;[</span><span class="n">1</span><span class="o">]</span><span class="w"> </span><span class="n">cmp</span><span class="w"> </span><span class="err">$</span><span class="n">b</span><span class="o">-&gt;[</span><span class="n">1</span><span class="o">]</span><span class="w"> </span><span class="err">}</span>
<span class="w">          </span><span class="k">map</span><span class="w">  </span><span class="err">{</span><span class="w"> </span><span class="o">[</span><span class="n">$_, foo($_)</span><span class="o">]</span><span class="w"> </span><span class="err">}</span>
<span class="w">              </span><span class="nv">@unsorted</span><span class="p">;</span>
</code></pre></div>

<p>A good history of it can be <a href="http://www.stonehenge.com/merlyn/UnixReview/col64.html">read here</a>.</p>
<p>My point of bring all of this up other than pointing out a cool sorting algorithm is that any <strong>ruby</strong> class including <a href="http://ruby-doc.org/core/classes/Enumerable.html">Enumerable</a> (Arrays, Hashes etc) has this built in with the <a href="http://ruby-doc.org/core/classes/Enumerable.html#M001481"><strong>.sort_by</strong></a> method.</p>                    </article>
                </aside><!-- /#featured -->
                <section id="extras" class="body">
                                <div class="social">
                                        <h2>social</h2>
                                        <ul>
                                                        <li><a href="http://lizard-spock.co.uk/pelican_test/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                                        </ul>
                                </div><!-- /.social -->
                </section><!-- /#extras -->

                <footer id="contentinfo" class="body">
                        <address id="about" class="vcard body">
                                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                        </address><!-- /#about -->

                        <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
                </footer><!-- /#contentinfo -->

        </body>
</html>