<!DOCTYPE html>
<html lang="en">
        <head>
                        <meta charset="utf-8" />
                        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                        <meta name="generator" content="Pelican" />
                        <title>Packaging Python Projects</title>
                        <link rel="stylesheet" href="./theme/css/main.css" />
                                <link href="http://lizard-spock.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lizard-Spock Atom Feed" />
    <meta name="description" content="How to package a pythin script or project for distribution. Offical Docs are [here][python_package]. Packaging for pip requires use …" />
        </head>

        <body id="index" class="home">
                <header id="banner" class="body">
                        <h1><a href="./">Lizard-Spock</a></h1>
                        <nav><ul>
                                                <li><a href="./pages/about.html">About</a></li>
                                                <li><a href="./category/cooking.html">Cooking</a></li>
                                                <li><a href="./category/engineering.html">Engineering</a></li>
                                                <li><a href="./category/home.html">Home</a></li>
                                                <li><a href="./category/outdoor.html">Outdoor</a></li>
                                                <li><a href="./category/photography.html">Photography</a></li>
                                                <li class="active"><a href="./category/tech.html">Tech</a></li>
                        </ul></nav>
                </header><!-- /#banner -->
  <section id="content" class="body">
    <article>
      <header>
        <h1 class="entry-title">
          <a href="./packaging-python-projects.html" rel="bookmark"
             title="Permalink to Packaging Python Projects">Packaging Python Projects</a></h1>
      </header>

      <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2025-02-28T15:22:00+00:00">
                Published: Fri 28 February 2025
        </abbr>

                <address class="vcard author">
                        By                                 <a class="url fn" href="./author/morganp.html">morganp</a>
                </address>
        <p>In <a href="./category/tech.html">Tech</a>.</p>
<p>tags: <a href="./tag/python.html">python</a> </p>        
</footer><!-- /.post-info -->        <!--to publish change draft to published-->

<p>How to package a pythin script or project for distribution. Offical Docs are [here][python_package].
Packaging for pip requires use of a [build backend][], [Hatchling][] is the default for this example.</p>
<p>This run through uses the testPyPI. </p>
<h2>Summary</h2>
<p><a href="https://test.pypi.org/account/register/">Register for a test.pypi account</a>.</p>
<p>Initialise Python project area:
note: the build process also uses the gitignore to excluded the venv folder.</p>
<div class="highlight"><pre><span></span><code>mkdir packaging_tutorial
cd packagin_tutorial
python3 -m venv venv
source venv/bin/activate
curl --output .gitignore &quot;https://raw.githubusercontent.com/github/gitignore/refs/heads/main/Python.gitignore&quot;
</code></pre></div>

<p>Create the folder structure:</p>
<div class="highlight"><pre><span></span><code><span class="nx">packaging_tutorial</span><span class="o">/</span>
<span class="err">├──</span><span class="w"> </span><span class="nx">LICENSE</span>
<span class="err">├──</span><span class="w"> </span><span class="nx">pyproject</span><span class="p">.</span><span class="nx">toml</span>
<span class="err">├──</span><span class="w"> </span><span class="nx">README</span><span class="p">.</span><span class="nx">md</span>
<span class="err">├──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">example_package_YOUR_USERNAME_HERE</span><span class="o">/</span>
<span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="nx">__init__</span><span class="p">.</span><span class="nx">py</span>
<span class="err">│</span><span class="w">       </span><span class="err">└──</span><span class="w"> </span><span class="nx">example</span><span class="p">.</span><span class="nx">py</span>
<span class="err">└──</span><span class="w"> </span><span class="nx">tests</span><span class="o">/</span>
</code></pre></div>

<p><code>__init__.py</code> can be empty, but allows project to be imported in standard way.</p>
<p>pyproject.toml - directs pip how to build the project</p>
<div class="highlight"><pre><span></span><code><span class="k">[build-system]</span>
<span class="na">requires</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">[&quot;hatchling&quot;]</span>
<span class="na">build-backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hatchling.build&quot;</span>

<span class="k">[project]</span>
<span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;example_package_YOUR_USERNAME_HERE&quot;</span>
<span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0.0.1&quot;</span>
<span class="na">authors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">[</span>
<span class="w">  </span><span class="na">{ name</span><span class="o">=</span><span class="s">&quot;Example Author&quot;, email=&quot;author@example.com&quot; },</span>
<span class="na">]</span>
<span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;A small example package&quot;</span>
<span class="na">readme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;README.md&quot;</span>
<span class="na">requires-python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&gt;=3.8&quot;</span>
<span class="na">classifiers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">[</span>
<span class="w">    </span><span class="na">&quot;Programming Language</span><span class="w"> </span><span class="o">:</span><span class="s">: Python :: 3&quot;,</span>
<span class="w">    </span><span class="na">&quot;Operating System</span><span class="w"> </span><span class="o">:</span><span class="s">: OS Independent&quot;,</span>
<span class="na">]</span>
<span class="na">license</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;MIT&quot;</span>
<span class="na">license-files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">[&quot;LICEN[CS]E*&quot;]</span>

<span class="k">[project.urls]</span>
<span class="na">Homepage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;https://github.com/pypa/sampleproject&quot;</span>
<span class="na">Issues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;https://github.com/pypa/sampleproject/issues&quot;</span>


<span class="na">[python_package]</span><span class="o">:</span><span class="w"> </span><span class="s">https://packaging.python.org/en/latest/tutorials/packaging-projects/</span>
<span class="na">[build backend]</span><span class="o">:</span><span class="w"> </span><span class="s">https://packaging.python.org/en/latest/glossary/</span><span class="c1">#term-Build-Backend</span>
<span class="na">[Hatchling]</span><span class="o">:</span><span class="w"> </span><span class="s">https://hatch.pypa.io/latest/</span>
</code></pre></div>

<h2>Generate Distrubution Archive</h2>
<p>Update <code>build</code></p>
<div class="highlight"><pre><span></span><code>pip install --upgrade build
</code></pre></div>

<p>Build:</p>
<div class="highlight"><pre><span></span><code>python3 -m build
</code></pre></div>

<p>This should create</p>
<div class="highlight"><pre><span></span><code><span class="nx">dist</span><span class="o">/</span>
<span class="err">├──</span><span class="w"> </span><span class="nx">example_package_YOUR_USERNAME_HERE</span><span class="o">-</span><span class="m m-Double">0.0.1</span><span class="o">-</span><span class="nx">py3</span><span class="o">-</span><span class="nx">none</span><span class="o">-</span><span class="nx">any</span><span class="p">.</span><span class="nx">whl</span><span class="w"> </span><span class="p">(</span><span class="nx">Built</span><span class="w"> </span><span class="nx">Distribution</span><span class="p">)</span>
<span class="err">└──</span><span class="w"> </span><span class="nx">example_package_YOUR_USERNAME_HERE</span><span class="o">-</span><span class="m m-Double">0.0.1</span><span class="p">.</span><span class="nx">tar</span><span class="p">.</span><span class="nx">gz</span><span class="w"> </span><span class="p">(</span><span class="nx">Source</span><span class="w"> </span><span class="nx">Distibution</span><span class="p">)</span>
</code></pre></div>

<h2>Upload!</h2>
<p>Create and store API token. <a href="https://test.pypi.org/manage/account/#api-tokens">Create Token</a>, set scope to entire account.</p>
<p>Update <code>twine</code></p>
<div class="highlight"><pre><span></span><code>pip install --upgrade twine
</code></pre></div>

<p>Upload the files in dist</p>
<div class="highlight"><pre><span></span><code><span class="n">python3</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">twine</span><span class="w"> </span><span class="n">upload</span><span class="w"> </span><span class="o">--</span><span class="n">repository</span><span class="w"> </span><span class="n">testpypi</span><span class="w"> </span><span class="n">dist</span><span class="o">/*</span>
</code></pre></div>

<p>Once Complete the uploaded package can be viewed here:</p>
<div class="highlight"><pre><span></span><code><span class="nx">https</span><span class="p">:</span><span class="c1">//test.pypi.org/project/example_package_YOUR_USERNAME_HERE.</span>
</code></pre></div>

<p>Test install</p>
<div class="highlight"><pre><span></span><code><span class="nx">python3</span><span class="w"> </span><span class="o">-</span><span class="nx">m</span><span class="w"> </span><span class="nx">pip</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="o">--</span><span class="nx">index</span><span class="o">-</span><span class="nx">url</span><span class="w"> </span><span class="nx">https</span><span class="p">:</span><span class="c1">//test.pypi.org/simple/ --no-deps example-package-YOUR-USERNAME-HERE</span>
</code></pre></div>
      </div><!-- /.entry-content -->

    </article>
  </section>
                <section id="extras" class="body">
                                <div class="social">
                                        <h2>social</h2>
                                        <ul>
                                                        <li><a href="http://lizard-spock.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                                        </ul>
                                </div><!-- /.social -->
                </section><!-- /#extras -->

                <footer id="contentinfo" class="body">
                        <address id="about" class="vcard body">
                                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                        </address><!-- /#about -->

                        <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
                </footer><!-- /#contentinfo -->

        </body>
</html>